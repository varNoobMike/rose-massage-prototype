!function(){"use strict";function e(e){var t=e.charAt(e.length-1),n=parseInt(e,10),r=new Date;switch(t){case"Y":r.setFullYear(r.getFullYear()+n);break;case"M":r.setMonth(r.getMonth()+n);break;case"D":r.setDate(r.getDate()+n);break;case"h":r.setHours(r.getHours()+n);break;case"m":r.setMinutes(r.getMinutes()+n);break;case"s":r.setSeconds(r.getSeconds()+n);break;default:r=new Date(e)}return r}function t(t){for(var n="",r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];if(/^expires$/i.test(i)){var a=t[i],c=void 0;"object"==typeof a?c=a:(a+="number"==typeof a?"D":"",c=e(String(a))),n+=";".concat(i,"=").concat(c.toUTCString())}else/^secure|partitioned$/.test(i)?t[i]&&(n+=";".concat(i)):n+=";".concat(i,"=").concat(t[i])}return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(t,"path")||(n+=";path=/"),n}function n(e,t){if(void 0===t&&(t=decodeURIComponent),"string"!=typeof e||!e)return null;var n=new RegExp("(?:^|; )".concat(e.replace(/[.*+?^$|[\](){}\\-]/g,"\\$&"),"(?:=([^;]*))?(?:;|$)")).exec(document.cookie);return null===n?null:"function"==typeof t?t(n[1]):n[1]}"function"==typeof SuppressedError&&SuppressedError;var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i=function(e){return e&&e.Math===Math&&e},a=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r&&r)||i("object"==typeof r&&r)||function(){return this}()||Function("return this")();o(a);var c={},s=function(e){try{return!!e()}catch(e){return!0}};o(s);var u=!s((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}));o(u);var l=!s((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}));o(l);var f=l,d=Function.prototype.call,v=f?d.bind(d):function(){return d.apply(d,arguments)};o(v);var g={},p={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,m=h&&!p.call({1:2},1);g.f=m?function(e){var t=h(this,e);return!!t&&t.enumerable}:p;var y=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}};o(y);var w=l,b=Function.prototype,O=b.call,k=w&&b.bind.bind(O,O),x=w?k:function(e){return function(){return O.apply(e,arguments)}};o(x);var S=x,j=S({}.toString),C=S("".slice),E=function(e){return C(j(e),8,-1)};o(E);var A=s,T=E,I=Object,P=x("".split),M=A((function(){return!I("z").propertyIsEnumerable(0)}))?function(e){return"String"===T(e)?P(e,""):I(e)}:I;o(M);var _=function(e){return null==e};o(_);var L=_,U=TypeError,D=function(e){if(L(e))throw new U("Can't call method on "+e);return e};o(D);var $=M,N=D,R=function(e){return $(N(e))};o(R);var V="object"==typeof document&&document.all,B=void 0===V&&void 0!==V?function(e){return"function"==typeof e||e===V}:function(e){return"function"==typeof e};o(B);var z=B,F=function(e){return"object"==typeof e?null!==e:z(e)};o(F);var q=a,H=B,Q=function(e,t){return arguments.length<2?(n=q[e],H(n)?n:void 0):q[e]&&q[e][t];var n};o(Q);var G=x({}.isPrototypeOf);o(G);var W=a.navigator,J=W&&W.userAgent,X=J?String(J):"";o(X);var Y,K,Z=a,ee=X,te=Z.process,ne=Z.Deno,re=te&&te.versions||ne&&ne.version,oe=re&&re.v8;oe&&(K=(Y=oe.split("."))[0]>0&&Y[0]<4?1:+(Y[0]+Y[1])),!K&&ee&&(!(Y=ee.match(/Edge\/(\d+)/))||Y[1]>=74)&&(Y=ee.match(/Chrome\/(\d+)/))&&(K=+Y[1]);var ie=K;o(ie);var ae=ie,ce=s,se=a.String,ue=!!Object.getOwnPropertySymbols&&!ce((function(){var e=Symbol("symbol detection");return!se(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ae&&ae<41}));o(ue);var le=ue&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;o(le);var fe=Q,de=B,ve=G,ge=Object,pe=le?function(e){return"symbol"==typeof e}:function(e){var t=fe("Symbol");return de(t)&&ve(t.prototype,ge(e))};o(pe);var he=String,me=function(e){try{return he(e)}catch(e){return"Object"}};o(me);var ye=B,we=me,be=TypeError,Oe=function(e){if(ye(e))return e;throw new be(we(e)+" is not a function")};o(Oe);var ke=Oe,xe=_,Se=function(e,t){var n=e[t];return xe(n)?void 0:ke(n)};o(Se);var je=v,Ce=B,Ee=F,Ae=TypeError,Te=function(e,t){var n,r;if("string"===t&&Ce(n=e.toString)&&!Ee(r=je(n,e)))return r;if(Ce(n=e.valueOf)&&!Ee(r=je(n,e)))return r;if("string"!==t&&Ce(n=e.toString)&&!Ee(r=je(n,e)))return r;throw new Ae("Can't convert object to primitive value")};o(Te);var Ie={exports:{}};o(!1);var Pe=a,Me=Object.defineProperty,_e=function(e,t){try{Me(Pe,e,{value:t,configurable:!0,writable:!0})}catch(n){Pe[e]=t}return t};o(_e);var Le=a,Ue=_e,De="__core-js_shared__",$e=Ie.exports=Le[De]||Ue(De,{});($e.versions||($e.versions=[])).push({version:"3.42.0",mode:"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ne=Ie.exports;o(Ne);var Re=Ne,Ve=function(e,t){return Re[e]||(Re[e]=t||{})};o(Ve);var Be=D,ze=Object,Fe=function(e){return ze(Be(e))};o(Fe);var qe=Fe,He=x({}.hasOwnProperty),Qe=Object.hasOwn||function(e,t){return He(qe(e),t)};o(Qe);var Ge=x,We=0,Je=Math.random(),Xe=Ge(1..toString),Ye=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Xe(++We+Je,36)};o(Ye);var Ke=Ve,Ze=Qe,et=Ye,tt=ue,nt=le,rt=a.Symbol,ot=Ke("wks"),it=nt?rt.for||rt:rt&&rt.withoutSetter||et,at=function(e){return Ze(ot,e)||(ot[e]=tt&&Ze(rt,e)?rt[e]:it("Symbol."+e)),ot[e]};o(at);var ct=v,st=F,ut=pe,lt=Se,ft=Te,dt=TypeError,vt=at("toPrimitive"),gt=function(e,t){if(!st(e)||ut(e))return e;var n,r=lt(e,vt);if(r){if(void 0===t&&(t="default"),n=ct(r,e,t),!st(n)||ut(n))return n;throw new dt("Can't convert object to primitive value")}return void 0===t&&(t="number"),ft(e,t)};o(gt);var pt=gt,ht=pe,mt=function(e){var t=pt(e,"string");return ht(t)?t:t+""};o(mt);var yt=F,wt=a.document,bt=yt(wt)&&yt(wt.createElement),Ot=function(e){return bt?wt.createElement(e):{}};o(Ot);var kt=Ot,xt=!u&&!s((function(){return 7!==Object.defineProperty(kt("div"),"a",{get:function(){return 7}}).a}));o(xt);var St=u,jt=v,Ct=g,Et=y,At=R,Tt=mt,It=Qe,Pt=xt,Mt=Object.getOwnPropertyDescriptor;c.f=St?Mt:function(e,t){if(e=At(e),t=Tt(t),Pt)try{return Mt(e,t)}catch(e){}if(It(e,t))return Et(!jt(Ct.f,e,t),e[t])};var _t={},Lt=u&&s((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}));o(Lt);var Ut=F,Dt=String,$t=TypeError,Nt=function(e){if(Ut(e))return e;throw new $t(Dt(e)+" is not an object")};o(Nt);var Rt=u,Vt=xt,Bt=Lt,zt=Nt,Ft=mt,qt=TypeError,Ht=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,Gt="enumerable",Wt="configurable",Jt="writable";_t.f=Rt?Bt?function(e,t,n){if(zt(e),t=Ft(t),zt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Jt in n&&!n[Jt]){var r=Qt(e,t);r&&r[Jt]&&(e[t]=n.value,n={configurable:Wt in n?n[Wt]:r[Wt],enumerable:Gt in n?n[Gt]:r[Gt],writable:!1})}return Ht(e,t,n)}:Ht:function(e,t,n){if(zt(e),t=Ft(t),zt(n),Vt)try{return Ht(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new qt("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Xt=_t,Yt=y,Kt=u?function(e,t,n){return Xt.f(e,t,Yt(1,n))}:function(e,t,n){return e[t]=n,e};o(Kt);var Zt={exports:{}},en=u,tn=Qe,nn=Function.prototype,rn=en&&Object.getOwnPropertyDescriptor,on=tn(nn,"name"),an={EXISTS:on,PROPER:on&&"something"===function(){}.name,CONFIGURABLE:on&&(!en||en&&rn(nn,"name").configurable)};o(an);var cn=B,sn=Ne,un=x(Function.toString);cn(sn.inspectSource)||(sn.inspectSource=function(e){return un(e)});var ln=sn.inspectSource;o(ln);var fn=B,dn=a.WeakMap,vn=fn(dn)&&/native code/.test(String(dn));o(vn);var gn=Ye,pn=Ve("keys"),hn=function(e){return pn[e]||(pn[e]=gn(e))};o(hn);var mn={};o(mn);var yn,wn,bn,On=vn,kn=a,xn=F,Sn=Kt,jn=Qe,Cn=Ne,En=hn,An=mn,Tn="Object already initialized",In=kn.TypeError,Pn=kn.WeakMap;if(On||Cn.state){var Mn=Cn.state||(Cn.state=new Pn);Mn.get=Mn.get,Mn.has=Mn.has,Mn.set=Mn.set,yn=function(e,t){if(Mn.has(e))throw new In(Tn);return t.facade=e,Mn.set(e,t),t},wn=function(e){return Mn.get(e)||{}},bn=function(e){return Mn.has(e)}}else{var _n=En("state");An[_n]=!0,yn=function(e,t){if(jn(e,_n))throw new In(Tn);return t.facade=e,Sn(e,_n,t),t},wn=function(e){return jn(e,_n)?e[_n]:{}},bn=function(e){return jn(e,_n)}}var Ln={set:yn,get:wn,has:bn,enforce:function(e){return bn(e)?wn(e):yn(e,{})},getterFor:function(e){return function(t){var n;if(!xn(t)||(n=wn(t)).type!==e)throw new In("Incompatible receiver, "+e+" required");return n}}};o(Ln);var Un=x,Dn=s,$n=B,Nn=Qe,Rn=u,Vn=an.CONFIGURABLE,Bn=ln,zn=Ln.enforce,Fn=Ln.get,qn=String,Hn=Object.defineProperty,Qn=Un("".slice),Gn=Un("".replace),Wn=Un([].join),Jn=Rn&&!Dn((function(){return 8!==Hn((function(){}),"length",{value:8}).length})),Xn=String(String).split("String"),Yn=Zt.exports=function(e,t,n){"Symbol("===Qn(qn(t),0,7)&&(t="["+Gn(qn(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Nn(e,"name")||Vn&&e.name!==t)&&(Rn?Hn(e,"name",{value:t,configurable:!0}):e.name=t),Jn&&n&&Nn(n,"arity")&&e.length!==n.arity&&Hn(e,"length",{value:n.arity});try{n&&Nn(n,"constructor")&&n.constructor?Rn&&Hn(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=zn(e);return Nn(r,"source")||(r.source=Wn(Xn,"string"==typeof t?t:"")),e};Function.prototype.toString=Yn((function(){return $n(this)&&Fn(this).source||Bn(this)}),"toString");var Kn=Zt.exports;o(Kn);var Zn=B,er=_t,tr=Kn,nr=_e,rr=function(e,t,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:t;if(Zn(n)&&tr(n,i,r),r.global)o?e[t]=n:nr(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:er.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e};o(rr);var or={},ir=Math.ceil,ar=Math.floor,cr=Math.trunc||function(e){var t=+e;return(t>0?ar:ir)(t)};o(cr);var sr=cr,ur=function(e){var t=+e;return t!=t||0===t?0:sr(t)};o(ur);var lr=ur,fr=Math.max,dr=Math.min,vr=function(e,t){var n=lr(e);return n<0?fr(n+t,0):dr(n,t)};o(vr);var gr=ur,pr=Math.min,hr=function(e){var t=gr(e);return t>0?pr(t,9007199254740991):0};o(hr);var mr=hr,yr=function(e){return mr(e.length)};o(yr);var wr=R,br=vr,Or=yr,kr=function(e){return function(t,n,r){var o=wr(t),i=Or(o);if(0===i)return!e&&-1;var a,c=br(r,i);if(e&&n!=n){for(;i>c;)if((a=o[c++])!=a)return!0}else for(;i>c;c++)if((e||c in o)&&o[c]===n)return e||c||0;return!e&&-1}},xr={includes:kr(!0),indexOf:kr(!1)};o(xr);var Sr=Qe,jr=R,Cr=xr.indexOf,Er=mn,Ar=x([].push),Tr=function(e,t){var n,r=jr(e),o=0,i=[];for(n in r)!Sr(Er,n)&&Sr(r,n)&&Ar(i,n);for(;t.length>o;)Sr(r,n=t[o++])&&(~Cr(i,n)||Ar(i,n));return i};o(Tr);var Ir=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];o(Ir);var Pr=Tr,Mr=Ir.concat("length","prototype");or.f=Object.getOwnPropertyNames||function(e){return Pr(e,Mr)};var _r={};_r.f=Object.getOwnPropertySymbols;var Lr=Q,Ur=or,Dr=_r,$r=Nt,Nr=x([].concat),Rr=Lr("Reflect","ownKeys")||function(e){var t=Ur.f($r(e)),n=Dr.f;return n?Nr(t,n(e)):t};o(Rr);var Vr=Qe,Br=Rr,zr=c,Fr=_t,qr=function(e,t,n){for(var r=Br(t),o=Fr.f,i=zr.f,a=0;a<r.length;a++){var c=r[a];Vr(e,c)||n&&Vr(n,c)||o(e,c,i(t,c))}};o(qr);var Hr=s,Qr=B,Gr=/#|\.prototype\./,Wr=function(e,t){var n=Xr[Jr(e)];return n===Kr||n!==Yr&&(Qr(t)?Hr(t):!!t)},Jr=Wr.normalize=function(e){return String(e).replace(Gr,".").toLowerCase()},Xr=Wr.data={},Yr=Wr.NATIVE="N",Kr=Wr.POLYFILL="P",Zr=Wr;o(Zr);var eo=a,to=c.f,no=Kt,ro=rr,oo=_e,io=qr,ao=Zr,co=function(e,t){var n,r,o,i,a,c=e.target,s=e.global,u=e.stat;if(n=s?eo:u?eo[c]||oo(c,{}):eo[c]&&eo[c].prototype)for(r in t){if(i=t[r],o=e.dontCallGetSet?(a=to(n,r))&&a.value:n[r],!ao(s?r:c+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;io(i,o)}(e.sham||o&&o.sham)&&no(i,"sham",!0),ro(n,r,i,e)}};o(co);var so={},uo=Tr,lo=Ir,fo=Object.keys||function(e){return uo(e,lo)};o(fo);var vo=u,go=Lt,po=_t,ho=Nt,mo=R,yo=fo;so.f=vo&&!go?Object.defineProperties:function(e,t){ho(e);for(var n,r=mo(t),o=yo(t),i=o.length,a=0;i>a;)po.f(e,n=o[a++],r[n]);return e};var wo=Q("document","documentElement");o(wo);var bo,Oo=Nt,ko=so,xo=Ir,So=mn,jo=wo,Co=Ot,Eo="prototype",Ao="script",To=hn("IE_PROTO"),Io=function(){},Po=function(e){return"<"+Ao+">"+e+"</"+Ao+">"},Mo=function(e){e.write(Po("")),e.close();var t=e.parentWindow.Object;return e=null,t},_o=function(){try{bo=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;_o="undefined"!=typeof document?document.domain&&bo?Mo(bo):(t=Co("iframe"),n="java"+Ao+":",t.style.display="none",jo.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(Po("document.F=Object")),e.close(),e.F):Mo(bo);for(var r=xo.length;r--;)delete _o[Eo][xo[r]];return _o()};So[To]=!0;var Lo=Object.create||function(e,t){var n;return null!==e?(Io[Eo]=Oo(e),n=new Io,Io[Eo]=null,n[To]=e):n=_o(),void 0===t?n:ko.f(n,t)};o(Lo);var Uo=at,Do=Lo,$o=_t.f,No=Uo("unscopables"),Ro=Array.prototype;void 0===Ro[No]&&$o(Ro,No,{configurable:!0,value:Do(null)});var Vo=function(e){Ro[No][e]=!0};o(Vo);var Bo=xr.includes,zo=Vo;co({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(e){return Bo(this,e,arguments.length>1?arguments[1]:void 0)}}),zo("includes");var Fo=function(){return Fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fo.apply(this,arguments)};function qo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Ho(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))}function Qo(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;class Go{constructor(){this.queue=[],this.onEnqueue=null}enqueue(e){const t=Object.assign(Object.assign({id:`${e.event}-${e.label}-${Date.now()}-${Math.random().toString(36).substring(2,7)}`},e),{createdAt:Date.now(),sent:null});return new Promise((e=>{t.sent=e,this.queue.push(t),this.onEnqueue&&this.onEnqueue()}))}dequeue(){const e=[...this.queue];return this.queue=[],e}removeEvents(e){const t=e.map((e=>e.id));this.queue=this.queue.filter((e=>!t.includes(e.id)))}clear(){this.queue=[]}getCurrentQueue(){return[...this.queue]}get length(){return this.queue.length}isEmpty(){return 0===this.length}}function Wo(e){return!!("ontouchstart"in e.document.documentElement||e.DocumentTouch&&e.document instanceof e.DocumentTouch)}function Jo(e){return{recognized:n(`${arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}recognized`),touch_screen:Wo(e)}}function Xo(e){var t=this;let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return{clear:()=>{clearTimeout(n)},fn:function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return clearTimeout(n),n=setTimeout((()=>{e.apply(t,i)}),r),{flush:()=>{clearTimeout(n),e.apply(t,i)}}}}}class Yo{constructor(e,t,n,r,o,i){this.window=e,this.eventQueue=t,this.trackerManager=n,this.eventModifierManager=r,this.contextManager=o,this.config=i,this.debouncedProcessQueue=Xo(this.processQueue.bind(this),100)}setupEventProcessing(){this.eventQueue.onEnqueue=this.onQueueUpdate.bind(this),this.window.addEventListener("pagehide",this.flushQueue.bind(this)),this.window.addEventListener("visibilitychange",this.flushQueue.bind(this))}onQueueUpdate(){this.debouncedProcessQueue.fn()}processQueue(){return Ho(this,void 0,void 0,(function*(){const e=this.eventQueue.dequeue();if(0===e.length)return;const t=(this.config.dedupeGeneralEvents?e.reduce(((e,t,n)=>{var r,o;const i=n>=1?e[e.length-1]:null;if(!i)return[...e,t];const a=t.createdAt-i.createdAt,c=0!==(null===(r=i.trackers)||void 0===r?void 0:r.filter((e=>{var n;return-1!==(null===(n=t.trackers)||void 0===n?void 0:n.indexOf(e))})).length),s=null===(o=t.label)||void 0===o?void 0:o.startsWith("general_");if(a>=0&&a<=50&&"general_click"===i.label&&i.event===t.event&&!s&&c){const n=i.data||{},{location:r,sublocation:o}=n,a=qo(n,["location","sublocation"]);return[...e.slice(0,e.length-1),Object.assign(Object.assign({},t),i.data&&{data:Object.assign(Object.assign({},a),t.data)})]}return[...e,t]}),[]):e).map((e=>this.processEvent(e)));yield Promise.allSettled(t)}))}flushQueue(){return Ho(this,void 0,void 0,(function*(){return this.debouncedProcessQueue.clear(),this.processQueue()}))}queuedToSuitEvent(e){const{id:t,trackers:n,sent:r,createdAt:o}=e;return qo(e,["id","trackers","sent","createdAt"])}processEvent(e){return Ho(this,void 0,void 0,(function*(){if(!e.trackers||0===e.trackers.length)return;const t=this.eventModifierManager.applyEventModifiers(this.queuedToSuitEvent(e));if(!1===t)return;const n=e.trackers.map((e=>Ho(this,void 0,void 0,(function*(){const n=this.eventModifierManager.applyEventModifiersByTracker(t,e);return!1===n?null:this.trackerManager.sendToTracker(e,{event:n,pageContext:this.contextManager.getPageContext(),userContext:this.contextManager.getUserContext(),browserData:Jo(this.window,this.config.cookiePrefix)})})))),r=(yield Promise.all(n)).filter((e=>null!==e));"function"==typeof e.sent&&r.length>0&&e.sent(r)}))}dispose(){this.eventQueue.onEnqueue=null,this.window.removeEventListener("pagehide",this.flushQueue),this.window.removeEventListener("visibilitychange",this.flushQueue)}}class Ko{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pageContext={},this.userContext={},this.pageContext=Object.assign({},e),this.userContext=Object.assign({},t)}setPageContext(e){this.pageContext=Object.assign({},e)}getPageContext(){return Object.assign({},this.pageContext)}updatePageContext(e){this.pageContext=Object.assign(Object.assign({},this.pageContext),e)}clearPageContext(){this.pageContext={}}setUserContext(e){this.userContext=Object.assign({},e)}getUserContext(){return Object.assign({},this.userContext)}updateUserContext(e){this.userContext=Object.assign(Object.assign({},this.userContext),e)}clearUserContext(){this.userContext={}}getAllContext(){return{pageContext:this.getPageContext(),userContext:this.getUserContext()}}}class Zo{constructor(){}static setLevel(e){Zo.level=e}static logToNuxt(e){var t,n;if("undefined"!=typeof window&&"function"==typeof(null===(n=null===(t=window.$nuxt)||void 0===t?void 0:t.$logger)||void 0===n?void 0:n[e])){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];window.$nuxt.$logger[e](...o)}}static log(e){const t=console[e];for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t(...r),Zo.logToNuxt(e,...r)}static debug(){if("debug"===Zo.level){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Zo.log("debug",...t)}}static info(){if("debug"===Zo.level||"info"===Zo.level){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Zo.log("info",...t)}}static warn(){if("error"!==Zo.level){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Zo.log("warn",...t)}}static error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Zo.log("error",...t)}static table(e,t){"debug"===Zo.level&&console.table(e,t)}}Zo.level="info";class ei{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["snowplow"];this.trackers={},this.defaultTrackers=e}registerTracker(e){this.trackers[e.name]=e,e.nameAliases.forEach((t=>{t in this.trackers||(this.trackers[t]=e)}))}getTracker(e){return this.trackers[e]}setDefaultTrackers(e){this.defaultTrackers=e}getDefaultTrackers(){return[...this.defaultTrackers]}sendToTrackers(e,t){return Ho(this,void 0,void 0,(function*(){const n=(t||this.defaultTrackers).map((t=>this.sendToTracker(t,e)));return Promise.allSettled(n)}))}sendToTracker(e,t){return Ho(this,void 0,void 0,(function*(){const n=this.getTracker(e);return n?n.send(t):(Zo.warn(`[SUIT]: no tracker registered for "${e}"`),Promise.resolve())}))}getRegisteredTrackers(){return Object.keys(this.trackers)}}class ti{constructor(){this.globalModifiers=[],this.trackerSpecificModifiers={}}addEventModifier(e,t){return t&&t.tracker?(this.trackerSpecificModifiers[t.tracker]||(this.trackerSpecificModifiers[t.tracker]=[]),this.trackerSpecificModifiers[t.tracker].push(e)):this.globalModifiers.push(e),()=>this.removeEventModifier(e,t)}removeEventModifier(e,t){if(t&&t.tracker){const n=this.trackerSpecificModifiers[t.tracker];if(n){const r=n.indexOf(e);r>-1&&(n.splice(r,1),0===n.length&&delete this.trackerSpecificModifiers[t.tracker])}}else{const t=this.globalModifiers.indexOf(e);t>-1&&this.globalModifiers.splice(t,1)}}applyEventModifiers(e){return this.globalModifiers.reduce(((e,t)=>{if(!1===e)return!1;try{const n=t(e);return!1!==n&&(n||e)}catch(t){return Zo.error("[SUIT]: Error applying event modifier:",t),e}}),e)}applyEventModifiersByTracker(e,t){return(this.trackerSpecificModifiers[t]||[]).reduce(((e,n)=>{if(!1===e)return!1;try{const t=n(e);return!1!==t&&(t||e)}catch(n){return Zo.error(`[SUIT]: Error applying event modifier for tracker ${t}:`,n),e}}),e)}clearEventModifiers(){this.globalModifiers=[],this.trackerSpecificModifiers={}}getGlobalModifiersCount(){return this.globalModifiers.length}getTrackerSpecificModifiersCount(e){var t;return(null===(t=this.trackerSpecificModifiers[e])||void 0===t?void 0:t.length)||0}}function ni(e){return Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{suit_v_tracker:"0.3.48"})})}function ri(e){const t=n("OptanonConsent"),r=Object.assign(...(t||"").split("&").map((e=>e.split("="))).map((e=>{let[t,n]=e;return{[t]:n}}))),{consentId:o,isIABGlobal:i,groups:a}=r,c=function(e){if("string"==typeof e)return Object.assign(...e.split(",").map((e=>e.split(":"))).map((e=>{let[t,n]=e;return{[t]:+n}})))}(a)||function(e){if("string"!=typeof e)return;const t=e.split(",").filter((e=>!!e)).map((e=>({[e]:1}))),n=Array.from(Array(4)).map(((e,t)=>({[`C000${t+1}`]:0})));return Object.assign(...n,...t)}(window.OnetrustActiveGroups),s={ot:{isIABGlobal:i,consentId:o,ActiveConsentGroup:c}};return Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),s)})}function oi(e){var t,n,r;const o=null===(n=null===(t=window.$nuxt)||void 0===t?void 0:t.context)||void 0===n?void 0:n.$rumLogger;return!o||(null===(r=e.data)||void 0===r?void 0:r.page_id)?e:Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{page_id:o.pageId})})}const ii={system:"system",dark:"dark",light:"air-3-0",high_contrast_light:"high-contrast-light"};function ai(e){const t=n("cookie_prefix")||"",r=function(e){const t=Object.entries(ii).find((t=>{let[n,r]=t;return r===e}));if(t)return t[0]}(n(`${t}uTheme`));return Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{ui_theme:r||"light"})})}const ci={event:"string",location:"string",sublocation:"string",label:"string",data:"object",correlation_id:"string"};function si(e){return e.matched[e.matched.length-1].path.replace(/[:?]/g,"").replace(/[/-]/g,"_").replace(/^_+/g,"").replace(/_+$/g,"").slice(0,100)}class ui{constructor(e){let{config:t}=e;var n,r;if(this.ologDeprecationLog=!1,!t.window)throw Zo.error("[SUIT]: window is not set"),new Error("[SUIT]: window is not set");this.config=t,this.eventQueue=new Go,this.contextManager=new Ko(t.pageContext,t.userContext),this.trackerManager=new ei(t.defaultTrackers||["snowplow"]),this.eventModifierManager=new ti,null===(n=t.trackers)||void 0===n||n.forEach((e=>{this.trackerManager.registerTracker(e)})),this.eventProcessor=new Yo(t.window,this.eventQueue,this.trackerManager,this.eventModifierManager,this.contextManager,{dedupeGeneralEvents:t.dedupeGeneralEvents||!1,cookiePrefix:t.cookiePrefix||""}),this.locationMapper="function"==typeof t.locationMapper?t.locationMapper:e=>e,this.setLocation(t.pageLocation),null===(r=t.autoTrackingEvents)||void 0===r||r.forEach((e=>{new e(t.window,this).setup()})),this.addDefaultEventModifiers(),this.eventProcessor.setupEventProcessing()}addDefaultEventModifiers(){[ni,ri,oi,ai,this.locationMapper].forEach((e=>this.addEventModifier(e,{tracker:"snowplow"})))}setLocation(e){this.contextManager.updatePageContext({location:e})}getLocation(){return this.contextManager.getPageContext().location}setPageContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.contextManager.setPageContext(e)}getPageContext(){return this.contextManager.getPageContext()}updatePageContext(e){this.contextManager.updatePageContext(e)}setUserContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.contextManager.setUserContext(e)}getUserContext(){return this.contextManager.getUserContext()}updateUserContext(e){this.contextManager.updateUserContext(e)}track(e){var t,n,r,o;return Ho(this,void 0,void 0,(function*(){let i=Object.assign({},e);i=function(e){let t=!1;const n=Object.keys(e).reduce(((n,r)=>{let o=r;return o.startsWith("tracking")&&(o=o.replace("tracking","").toLowerCase(),t=!0),n[o]=e[r],n}),{});return t&&Zo.warn("[SUIT]: deprecated legacy prefix stripped from event keys",e,n),n}(i),i.location=i.location||this.getLocation()||(null===(t=i.data)||void 0===t?void 0:t.location),i.sublocation=i.sublocation||(null===(n=i.data)||void 0===n?void 0:n.sublocation);const a=i.trackers||this.trackerManager.getDefaultTrackers();delete i.trackers,i=function(e){const t=[],n=Object.keys(e).reduce(((n,r)=>(ci[r]?(n[r]=e[r],typeof e[r]!==ci[r]&&t.push({key:r,expected:ci[r],current:typeof e[r]})):t.push({key:r}),n)),{});if(t.length>0){const n=[];t.forEach((e=>{e.expected&&e.current&&e.expected!==e.current?n.push(`[SUIT]: unexpected key type for (${e.key}), expected ${e.expected} got ${e.current}`):n.push(`[SUIT]: unexpected key (${e.key}) removed from event`)})),Zo.warn(n.join("\n"),e)}return n}(i),i.trackers=a,i.trackers.includes("olog")&&!this.ologDeprecationLog&&(this.ologDeprecationLog=!0,Zo.warn("[SUIT]: olog is deprecated, remove it from the trackers array - CI-15888"),i.trackers=i.trackers.filter((e=>"olog"!==e)));const c=null===(o=null===(r=this.config.window)||void 0===r?void 0:r.upworkAsyncSseContext)||void 0===o?void 0:o.correlationId;return c&&(i=Object.assign(Object.assign({},i),{data:Object.assign(Object.assign({},i.data),{auto_correlation_id:c})})),this.eventQueue.enqueue(i)}))}pageView(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ho(this,void 0,void 0,(function*(){yield this.track({event:"impression",sublocation:e.sublocation||"page",label:"general_pv",data:Object.assign({},e.data),trackers:e.trackers||["snowplow"]})}))}addEventModifier(e,t){return this.eventModifierManager.addEventModifier(e,t)}afterRouteChange(e){let{to:t,from:n}=e;if(null===n.name)return!1;const r={sublocation:si(t)};return t.params&&0!==Object.keys(t.params).length&&(r.data={route_params:Object.assign({},t.params)}),t.query&&Object.keys(t.query).some((e=>void 0!==t.query[e]))&&(r.data=Object.assign(Object.assign({},r.data),{query_params:Object.assign({},t.query)})),this.pageView(r),!0}beforeRouteChange(e){let{to:t,from:n}=e;return this.eventProcessor.flushQueue(),!0}registerTracker(e){this.trackerManager.registerTracker(e)}setDefaultTrackers(e){this.trackerManager.setDefaultTrackers(e)}getRegisteredTrackers(){return this.trackerManager.getRegisteredTrackers()}dispose(){this.eventProcessor.dispose()}setUserConfig(){Zo.warn("[SUIT]: setUserConfig method is deprecated")}}var li={exports:{}},fi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(fi){var di=new Uint8Array(16);li.exports=function(){return fi(di),di}}else{var vi=new Array(16);li.exports=function(){for(var e,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),vi[t]=e>>>((3&t)<<3)&255;return vi}}var gi=li.exports;o(gi);for(var pi=[],hi=0;hi<256;++hi)pi[hi]=(hi+256).toString(16).substr(1);var mi=function(e,t){var n=t||0,r=pi;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")};o(mi);var yi,wi,bi=gi,Oi=mi,ki=0,xi=0;var Si=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||yi,a=void 0!==e.clockseq?e.clockseq:wi;if(null==i||null==a){var c=bi();null==i&&(i=yi=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=wi=16383&(c[6]<<8|c[7]))}var s=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:xi+1,l=s-ki+(u-xi)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||s>ki)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ki=s,xi=u,wi=a;var f=(1e4*(268435455&(s+=122192928e5))+u)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f;var d=s/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var v=0;v<6;++v)o[r+v]=i[v];return t||Oi(o)};o(Si);var ji=gi,Ci=mi;var Ei=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||ji)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||Ci(o)};o(Ei);var Ai=Si,Ti=Ei,Ii=Ti;Ii.v1=Ai,Ii.v4=Ti;var Pi=Ii;o(Pi);function Mi(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}return function(e){var t,n,r,o,i,a,c=function(e){return decodeURIComponent(e.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},s=0,u=0,l="",f=[];if(!e)return e;e+="";do{t=(a=Li.indexOf(e.charAt(s++))<<18|Li.indexOf(e.charAt(s++))<<12|(o=Li.indexOf(e.charAt(s++)))<<6|(i=Li.indexOf(e.charAt(s++))))>>16&255,n=a>>8&255,r=255&a,f[u++]=64===o?String.fromCharCode(t):64===i?String.fromCharCode(t,n):String.fromCharCode(t,n,r)}while(s<e.length);return l=f.join(""),c(l.replace(/\0+$/,""))}(e.replace(/-/g,"+").replace(/_/g,"/"))}function _i(e){if(!e)return e;var t=function(e){var t,n,r,o,i,a=0,c=0,s=[];if(!e)return e;e=unescape(encodeURIComponent(e));do{t=(i=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=i>>12&63,r=i>>6&63,o=63&i,s[c++]=Li.charAt(t)+Li.charAt(n)+Li.charAt(r)+Li.charAt(o)}while(a<e.length);var u=s.join(""),l=e.length%3;return(l?u.slice(0,l-3):u)+"===".slice(l||3)}(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ui(){var e,t={},n=[],r=[],o=[],i=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:i,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])},addJson:function(e,t,o){if(o&&$i(o)){var i={keyIfEncoded:e,keyIfNotEncoded:t,json:o};r.push(i),n.push(i)}},addContextEntity:function(e){o.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,r,o),t}}}function Di(e){return function(t,n,r){for(var o=function(n,r,o){var i=JSON.stringify(n);e?t.add(r,_i(i)):t.add(o,i)},i=function(n,r){var o=n||function(){var n=t.getPayload();if(e?n.cx:n.co)return JSON.parse(e?Mi(n.cx):n.co)}();return o?o.data=o.data.concat(r.data):o=r,o},a=void 0,c=0,s=n;c<s.length;c++){var u=s[c];"cx"===u.keyIfEncoded?a=i(a,u.json):o(u.json,u.keyIfEncoded,u.keyIfNotEncoded)}(n.length=0,r.length)&&(a=i(a,{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:Qo([],r,!0)}),r.length=0);a&&o(a,"cx","co")}}function $i(e){if(!Ni(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function Ni(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var Ri,Vi="Snowplow: ";!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"}(Ri||(Ri={}));var Bi=function(e){void 0===e&&(e=Ri.warn);return{setLogLevel:function(t){e=Ri[t]?t:Ri.warn},warn:function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e>=Ri.warn&&"undefined"!=typeof console){var i=Vi+t;n?console.warn.apply(console,Qo([i+"\n",n],r,!1)):console.warn.apply(console,Qo([i],r,!1))}},error:function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e>=Ri.error&&"undefined"!=typeof console){var i=Vi+t+"\n";n?console.error.apply(console,Qo([i+"\n",n],r,!1)):console.error.apply(console,Qo([i],r,!1))}},debug:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e>=Ri.debug&&"undefined"!=typeof console&&console.debug.apply(console,Qo([Vi+t],n,!1))},info:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e>=Ri.info&&"undefined"!=typeof console&&console.info.apply(console,Qo([Vi+t],n,!1))}}}();function zi(){var e=[],t=[],n=function(n){var r=function(e){for(var t=e.getJson(),n=0,r=t;n<r.length;n++){var o=r[n];if("ue_px"===o.keyIfEncoded&&"object"==typeof o.json.data){var i=o.json.data.schema;if("string"==typeof i)return i}}return""}(n),o=function(e){var t=e.getPayload().e;return"string"==typeof t?t:""}(n),i=[],a=na(e,n,o,r);i.push.apply(i,a);var c=function(e,t,n,r){var o,i=ta(e),a=function(e){var o=function(e,t,n,r){if(Xi(e)){var o=e[0],i=!1;try{i=o({event:t.getPayload(),eventType:n,eventSchema:r})}catch(e){i=!1}if(!0===i)return na(e[1],t,n,r)}else if(Yi(e)&&function(e,t){var n=0,r=0,o=e.accept;Array.isArray(o)?e.accept.some((function(e){return Zi(e,t)}))&&r++:"string"==typeof o&&Zi(o,t)&&r++;var i=e.reject;Array.isArray(i)?e.reject.some((function(e){return Zi(e,t)}))&&n++:"string"==typeof i&&Zi(i,t)&&n++;if(r>0&&0===n)return!0;if(0===r&&n>0)return!1;return!1}(e[0],r))return na(e[1],t,n,r);return[]}(e,t,n,r);if(o&&0!==o.length)return o},c=i.map(a);return(o=[]).concat.apply(o,c.filter((function(e){return null!=e&&e.filter(Boolean)})))}(t,n,o,r);return i.push.apply(i,c),i};return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(n){for(var r=[],o=[],i=0,a=n;i<a.length;i++){var c=a[i];Ki(c)?r.push(c):Ji(c)&&o.push(c)}e=e.concat(o),t=t.concat(r)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(n){for(var r=function(n){Ki(n)?t=t.filter((function(e){return!oa(n,e)})):Ji(n)&&(e=e.filter((function(e){return!oa(n,e)})))},o=0,i=n;o<i.length;o++){r(i[o])}},getApplicableContexts:function(e){return n(e)}}}function Fi(e){var t=e.split(".");return!!(t&&t.length>1)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(e.slice(2).length>0){for(var t=!1,n=0,r=e.slice(2);n<r.length;n++)if("*"===r[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(t)}function qi(e){var t=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$").exec(e);if(null!==t&&Fi(t[1]))return t.slice(1,6)}function Hi(e){var t=qi(e);if(t){var n=t[0];return 5===t.length&&Fi(n)}return!1}function Qi(e){return function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}(e)?e.every((function(e){return Hi(e)})):"string"==typeof e&&Hi(e)}function Gi(e){var t=e;return!!($i(t)&&"schema"in t&&"data"in t)&&("string"==typeof t.schema&&"object"==typeof t.data)}function Wi(e){return"function"==typeof e&&e.length<=1}function Ji(e){return Wi(e)||Gi(e)}function Xi(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?Wi(e[0])&&e[1].every(Ji):Wi(e[0])&&Ji(e[1]))}function Yi(e){return!(!Array.isArray(e)||2!==e.length)&&(!!function(e){var t=e,n=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(t,"accept")){if(!Qi(t.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(t,"reject")){if(!Qi(t.reject))return!1;n+=1}return n>0&&n<=2}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(Ji):Ji(e[1])))}function Ki(e){return Xi(e)||Yi(e)}function Zi(e,t){if(!Hi(e))return!1;var n=qi(e),r=function(e){var t=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$").exec(e);if(null!==t)return t.slice(1,6)}(t);if(n&&r){if(!function(e,t){var n=t.split("."),r=e.split(".");if(n&&r){if(n.length!==r.length)return!1;for(var o=0;o<r.length;o++)if(!ea(n[o],r[o]))return!1;return!0}return!1}(n[0],r[0]))return!1;for(var o=1;o<5;o++)if(!ea(n[o],r[o]))return!1;return!0}return!1}function ea(e,t){return e&&t&&"*"===e||e===t}function ta(e){return Array.isArray(e)?e:Array.of(e)}function na(e,t,n,r){var o,i=ta(e).map((function(e){var o=function(e,t,n,r){if(Gi(e))return[e];if(Wi(e)){var o=function(e,t,n,r){var o=void 0;try{return o=e({event:t.getPayload(),eventType:n,eventSchema:r}),Array.isArray(o)&&o.every(Gi)||Gi(o)?o:void 0}catch(e){o=void 0}return o}(e,t,n,r);if(Gi(o))return[o];if(Array.isArray(o))return o}return}(e,t,n,r);if(o&&0!==o.length)return o}));return(o=[]).concat.apply(o,i.filter((function(e){return null!=e&&e.filter(Boolean)})))}function ra(e,t){return"function"==typeof e?e===t:JSON.stringify(e)===JSON.stringify(t)}function oa(e,t){if(Ki(e)){if(!Ki(t))return!1;var n=e[0],r=e[1],o=t[0],i=t[1];return!!ra(n,o)&&(Array.isArray(r)?!!Array.isArray(i)&&(r.length===i.length&&r.reduce((function(e,t,n){return e&&ra(t,i[n])}),!0)):!Array.isArray(i)&&ra(r,i))}return!!Ji(e)&&(!!Ji(t)&&ra(e,t))}function ia(e){void 0===e&&(e={});var t=e.base64,n=e.corePlugins,r=e.callback,o=null!=n?n:[],i=function(e,t,n){var r=function(e){return{addPluginContexts:function(t){var n=t?Qo([],t,!0):[];return e.forEach((function(e){try{e.contexts&&n.push.apply(n,e.contexts())}catch(e){Bi.error("Error adding plugin contexts",e)}})),n}}}(t),o=zi(),i=e,a={};function c(e,t){a[e]=t}var s={track:function(e,c,s){e.withJsonProcessor(Di(i)),e.add("eid",Pi.v4()),e.addDict(a);var u=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(s);e.add(u.type,u.value.toString());var l=function(e){if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}}(function(e,t){var n=o.getApplicableContexts(e),r=[];return t&&t.length&&r.push.apply(r,t),n&&n.length&&r.push.apply(r,n),r}(e,r.addPluginContexts(c)));void 0!==l&&e.addJson("cx","co",l),t.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){Bi.error("Plugin beforeTrack",e)}})),"function"==typeof n&&n(e);var f=e.build();return t.forEach((function(e){try{e.afterTrack&&e.afterTrack(f)}catch(e){Bi.error("Plugin afterTrack",e)}})),f},addPayloadPair:c,getBase64Encoding:function(){return i},setBase64Encoding:function(e){i=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])},resetPayloadPairs:function(e){a=Ni(e)?e:{}},setTrackerVersion:function(e){c("tv",e)},setTrackerNamespace:function(e){c("tna",e)},setAppId:function(e){c("aid",e)},setPlatform:function(e){c("p",e)},setUserId:function(e){c("uid",e)},setScreenResolution:function(e,t){c("res",e+"x"+t)},setViewport:function(e,t){c("vp",e+"x"+t)},setColorDepth:function(e){c("cd",e)},setTimezone:function(e){c("tz",e)},setLang:function(e){c("lang",e)},setIpAddress:function(e){c("ip",e)},setUseragent:function(e){c("ua",e)},addGlobalContexts:function(e){o.addGlobalContexts(e)},clearGlobalContexts:function(){o.clearGlobalContexts()},removeGlobalContexts:function(e){o.removeGlobalContexts(e)}};return s}(null==t||t,o,r),a=Fo(Fo({},i),{addPlugin:function(e){var t,n,r=e.plugin;o.push(r),null===(t=r.logger)||void 0===t||t.call(r,Bi),null===(n=r.activateCorePlugin)||void 0===n||n.call(r,a)}});return null==o||o.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,Bi),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,a)})),a}var aa,ca,sa={exports:{}},ua={exports:{}};aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ca={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&ca.rotl(e,8)|4278255360&ca.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=ca.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?t.push(aa.charAt(r>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push((aa.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|aa.indexOf(e.charAt(n))>>>6-2*r);return t}},ua.exports=ca;var la=ua.exports;o(la);var fa={utf8:{stringToBytes:function(e){return fa.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(fa.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},da=fa;o(da),function(){var e=la,t=da.utf8,n=da.bin,r=function(r,o){var i=e.wordsToBytes(function(n){n.constructor==String?n=t.stringToBytes(n):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());var r=e.bytesToWords(n),o=8*n.length,i=[],a=1732584193,c=-271733879,s=-1732584194,u=271733878,l=-1009589776;r[o>>5]|=128<<24-o%32,r[15+(o+64>>>9<<4)]=o;for(var f=0;f<r.length;f+=16){for(var d=a,v=c,g=s,p=u,h=l,m=0;m<80;m++){if(m<16)i[m]=r[f+m];else{var y=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=y<<1|y>>>31}var w=(a<<5|a>>>27)+l+(i[m]>>>0)+(m<20?1518500249+(c&s|~c&u):m<40?1859775393+(c^s^u):m<60?(c&s|c&u|s&u)-1894007588:(c^s^u)-899497514);l=u,u=s,s=c<<30|c>>>2,c=a,a=w}a+=d,c+=v,s+=g,u+=p,l+=h}return[a,c,s,u,l]}(r));return o&&o.asBytes?i:o&&o.asString?n.bytesToString(i):e.bytesToHex(i)};r._blocksize=16,r._digestsize=20,sa.exports=r}();var va=o(sa.exports);function ga(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,o=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),o.toString()),r.setItem(e,t),!0}catch(e){return!1}}function pa(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function ha(e){try{return window.sessionStorage.getItem(e)}catch(e){return}}var ma={sessionId:!0,sourceId:!0,sourcePlatform:!1,userId:!1,reason:!1};function ya(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function wa(e){return!(!e||"string"!=typeof e.valueOf())}function ba(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Oa(e){if(!wa(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function ka(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e}function xa(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function Sa(e){var t=window,n=Ca("referrer",t.location.href)||Ca("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function ja(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function Ca(e,t){var n=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null}function Ea(e,t,n,r){Ta(e,"",-1,"/",t,n,r)}function Aa(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n}function Ta(e,t,n,r,o,i,a){return arguments.length>1?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function Ia(){var e="modernizr";if(!function(){try{return!!window.localStorage}catch(e){return!0}}())return!1;try{var t=window.localStorage;return t.setItem(e,e),t.removeItem(e),!0}catch(e){return!1}}var Pa="iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",Ma="iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/2-0-0",_a="iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2";function La(e,t,n,r,o,i,a,c,s,u,l,f,d,v,g,p,h,m,y,w){void 0===m&&(m=!0);var b,O,k=!1,x=[],S=!1,j=!0===(r="string"==typeof r?r.toLowerCase():r)||"beacon"===r||"true"===r,C=Boolean(j&&window.navigator&&"function"==typeof window.navigator.sendBeacon&&!(function(e,t){var n=t.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return!(!n||!n.length)&&parseInt(n[0])<=e}(13,O=window.navigator.userAgent)||function(e,t,n){var r=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return!(!r||!r.length)&&(parseInt(r[0])<=e||parseInt(r[0])===e&&parseInt(r[1])<=t)}(10,15,O)&&function(e){return e.match("Version/.* Safari/")&&!function(e){return e.match("Chrom(e|ium)")}(e)}(O))),E=C&&j,A="get"===r,T=Boolean(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),I=!A&&T&&("post"===r||j),P=I?o:"/i",M="snowplowOutQueue_".concat(e,"_").concat(I?"post2":"get");if(j&&(d={}),i=n&&Ia()&&I&&i||1,n)try{var _=window.localStorage.getItem(M);x=_?JSON.parse(_):[]}catch(e){}function L(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r.toString(),e}),{});return{evt:t,bytes:U(JSON.stringify(t))}}function U(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,n++):t+=r<65535?3:4}return t}Array.isArray(x)||(x=[]),t.outQueues.push(x),T&&i>1&&t.bufferFlushers.push((function(e){k||V(e)}));var D=function(e){return"object"==typeof e[0]&&"evt"in e[0]};function $(e,t){var n=z(t,!0,!1),r=q([e.evt]);n.onreadystatechange=function(){4===n.readyState&&(B(n.status)?null==y||y(r):null==w||w({status:n.status,message:n.statusText,events:r,willRetry:!1}))},n.send(F(r))}function N(e){for(var t=0;t<e;t++)x.shift();n&&ga(M,JSON.stringify(x.slice(0,u)))}function R(e,t,n){e.onreadystatechange=function(){if(4===e.readyState)if(clearTimeout(r),B(e.status))N(t),null==y||y(n),V();else{var o=function(e){if(B(e))return!1;if(!m)return!1;if(g.includes(e))return!0;return!p.includes(e)}(e.status);o||(Bi.error("Status ".concat(e.status,", will not retry.")),N(t)),null==w||w({status:e.status,message:e.statusText,events:n,willRetry:o}),k=!1}};var r=setTimeout((function(){e.abort(),m||N(t),null==w||w({status:0,message:"timeout",events:n,willRetry:m}),k=!1}),l)}function V(e){for(void 0===e&&(e=!1);x.length&&"string"!=typeof x[0]&&"object"!=typeof x[0];)x.shift();if(x.length){if(!wa(b))throw"No collector configured";if(k=!0,h&&!S){var t=z(h,!1,e);return S=!0,t.timeout=l,t.onreadystatechange=function(){4===t.readyState&&V()},void t.send()}if(T){var r=void 0,o=void 0,i=void 0;if(D(x)?(o=z(r=b,!0,e),i=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=a);)t+=1;return t}(x)):(o=z(r=H(x[0]),!1,e),i=1),D(x)){var c=x.slice(0,i);if(c.length>0){var s=!1,d=c.map((function(e){return e.evt}));if(E){var v=new Blob([F(q(d))],{type:"application/json"});try{s=window.navigator.sendBeacon(r,v)}catch(e){s=!1}}if(!0===s)N(i),null==y||y(c),V();else{var g=q(d);R(o,i,g),o.send(F(g))}}}else R(o,i,[r]),o.send()}else if(f||D(x))k=!1;else{var p=new Image(1,1),m=!0;p.onload=function(){m&&(m=!1,x.shift(),n&&ga(M,JSON.stringify(x.slice(0,u))),V())},p.onerror=function(){m&&(m=!1,k=!1)},p.src=H(x[0]),setTimeout((function(){m&&k&&(m=!1,V())}),l)}}else k=!1}function B(e){return e>=200&&e<300}function z(e,t,n){var r=new XMLHttpRequest;for(var o in t?(r.open("POST",e,!n),r.setRequestHeader("Content-Type","application/json; charset=UTF-8")):r.open("GET",e,!n),r.withCredentials=v,f&&r.setRequestHeader("SP-Anonymous","*"),d)Object.prototype.hasOwnProperty.call(d,o)&&r.setRequestHeader(o,d[o]);return r}function F(e){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:e})}function q(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function H(e){return s?b+e.replace("?","?stm="+(new Date).getTime()+"&"):b+e}return{enqueueRequest:function(e,t){b=t+P;var r=function(e,t){return Bi.warn("Event ("+e+"B) too big, max is "+t)};if(I){if((f=L(e)).bytes>=a)return r(f.bytes,a),void $(f,b);x.push(f)}else{var s=function(e){var t="?",n={co:!0,cx:!0},r=!0;for(var o in e)e.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(r?r=!1:t+="&",t+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));for(var i in n)e.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t+="&"+i+"="+encodeURIComponent(e[i]));return t}(e);if(c>0){var l=U(H(s));if(l>=c){var f;if(r(l,c),T)$(f=L(e),t+o);return}}x.push(s)}var d=!1;n&&(d=ga(M,JSON.stringify(x.slice(0,u)))),k||d&&!(x.length>=i)||V()},executeQueue:function(){k||V()},setUseLocalStorage:function(e){n=e},setAnonymousTracking:function(e){f=e},setCollectorUrl:function(e){b=e+P},setBufferSize:function(e){i=e}}}function Ua(e,t,n){var r,o,i,a;return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=ka(t=null!==(o=t,i="u",r=(a=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(o))&&(null==a?void 0:a.length)>1?Ca(i,a[1]):null)&&void 0!==r?r:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=ka(t=document.links[0].href)),[e,t,n]}function Da(e,t){void 0===t&&(t={memorizedVisitCount:1});var n=t.memorizedVisitCount;Ba(e)?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=n;var r=Pi.v4();return e[6]=r,e[10]=0,e[8]="",e[9]=void 0,r}function $a(e){e[4]=Math.round((new Date).getTime()/1e3)}function Na(e,t,n){var r=e[9];return{userId:n?"00000000-0000-0000-0000-000000000000":e[1],sessionId:e[6],eventIndex:e[10],sessionIndex:e[3],previousSessionId:n?null:e[7]||null,storageMechanism:"localStorage"==t?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[8]||null,firstEventTimestamp:r?new Date(r).toISOString():null}}function Ra(e){return e[6]}function Va(e){return e[3]}function Ba(e){return"0"===e[0]}var za,Fa=!1;var qa="x";function Ha(){return"ResizeObserver"in window?(za||(za=Qa()),function(){if(!Fa&&document&&document.body&&document.documentElement){Fa=!0;var e=new ResizeObserver((function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];r.target!==document.body&&r.target!==document.documentElement||(za=Qa())}}));e.observe(document.body),e.observe(document.documentElement)}}(),za):Qa()}function Qa(){return{viewport:Wa(Ga()),documentSize:Wa((e=document.documentElement,t=document.body,n=t?Math.max(t.offsetHeight,t.scrollHeight):0,r=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),o=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,n),isNaN(r)||isNaN(o)?"":r+qa+o)),resolution:Wa(screen.width+qa+screen.height),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:window.navigator.language||window.navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency};var e,t,n,r,o}function Ga(){var e,t;if("innerWidth"in window)e=window.innerWidth,t=window.innerHeight;else{var n=document.documentElement||document.body;e=n.clientWidth,t=n.clientHeight}return Math.max(0,e)+qa+Math.max(0,t)}function Wa(e){return e&&e.split(qa).map((function(e){return Math.floor(Number(e))})).join(qa)}function Ja(e,t,n,r,o,i){void 0===i&&(i={});var a=[],c=function(e,t,n,r,o,i){var c,s,u,l,f,d,v,g,p,h,m,y,w,b,O,k,x,S,j,C,E,A,T,I,P,M,_,L,U;i.eventMethod=null!==(c=i.eventMethod)&&void 0!==c?c:"post";var D,$,N=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},R=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n)},V=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&(null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n)},B=function(e){return!!e.anonymousTracking},z=null!==(u=null===(s=null==i?void 0:i.contexts)||void 0===s?void 0:s.browser)&&void 0!==u&&u,F=null===(f=null===(l=null==i?void 0:i.contexts)||void 0===l?void 0:l.webPage)||void 0===f||f;a.push((D=function(e){return Pe?null:e},$=function(e){return Te?e:D(e)},{beforeTrack:function(e){var t=rt("ses"),n=ht(),r=0===function(e){return e[10]}(n);if(ie=!!J&&!!Ta(J),Ce||ie)vt();else{Ba(n)?(re=t||"none"==Me?Ra(n):Da(n),Le=Va(n)):(new Date).getTime()-_e>1e3*Ae&&(Le++,re=Da(n,{memorizedVisitCount:Le})),$a(n),function(e,t){if(0===e[10]){var n=t.build();e[8]=n.eid;var r=n.dtm||n.ttm;e[9]=r?parseInt(r):void 0}}(n,e),function(e){e[10]+=1}(n);var o=Ha(),i=o.viewport,a=o.documentSize;e.add("vp",i),e.add("ds",a),e.add("vid",$(Le)),e.add("sid",$(re)),e.add("duid",D(function(e){return e[1]}(n))),e.add("uid",D(oe)),Ye(),e.add("refr",et(q||de)),e.add("url",et(H||fe));var c=Na(n,Me,Pe);if(!Ve||Pe&&!Te||function(e,t){var n={schema:_a,data:t};e.addContextEntity(n)}(e,c),"none"!=Me){ft(n);var s=lt();t&&!r||!s||!Be||ze||(Be(c),ze=!1)}_e=(new Date).getTime()}}})),F&&a.push({contexts:function(){return[{schema:Pa,data:{id:wt()}}]}}),z&&a.push({contexts:function(){return[{schema:Ma,data:Fo(Fo({},Ha()),{tabId:bt()})}]}}),a.push.apply(a,null!==(d=i.plugins)&&void 0!==d?d:[]);var q,H,Q,G,W,J,X,Y,K,Z,ee,te,ne,re,oe,ie,ae,ce=ia({base64:i.encodeBase64,corePlugins:a,callback:function(e){Ce||ie||Ue.enqueueRequest(e.build(),ge)}}),se=document.characterSet||document.charset,ue=Ua(window.location.hostname,window.location.href,Sa()),le=xa(ue[0]),fe=ue[1],de=ue[2],ve=null!==(v=i.platform)&&void 0!==v?v:"web",ge=mt(r),pe=null!==(g=i.postPath)&&void 0!==g?g:"/com.snowplowanalytics.snowplow/tp2",he=null!==(p=i.appId)&&void 0!==p?p:"",me=document.title,ye=!1,we=null===(h=i.resetActivityTrackingOnPageView)||void 0===h||h,be=null!==(m=i.cookieName)&&void 0!==m?m:"_sp_",Oe=null!==(y=i.cookieDomain)&&void 0!==y?y:void 0,ke="/",xe=null!==(w=i.cookieSameSite)&&void 0!==w?w:"None",Se=null===(b=i.cookieSecure)||void 0===b||b,je=window.navigator.doNotTrack||window.navigator.msDoNotTrack||window.doNotTrack,Ce=void 0!==i.respectDoNotTrack&&(i.respectDoNotTrack&&("yes"===je||"1"===je)),Ee=null!==(O=i.cookieLifetime)&&void 0!==O?O:63072e3,Ae=null!==(k=i.sessionCookieTimeout)&&void 0!==k?k:1800,Te=R(i),Ie=V(i),Pe=B(i),Me=N(i),_e=(new Date).getTime(),Le=1,Ue=La(e,o,"localStorage"==Me||"cookieAndLocalStorage"==Me,i.eventMethod,pe,null!==(x=i.bufferSize)&&void 0!==x?x:1,null!==(S=i.maxPostBytes)&&void 0!==S?S:4e4,null!==(j=i.maxGetBytes)&&void 0!==j?j:0,null===(C=i.useStm)||void 0===C||C,null!==(E=i.maxLocalStorageQueueSize)&&void 0!==E?E:1e3,null!==(A=i.connectionTimeout)&&void 0!==A?A:5e3,Ie,null!==(T=i.customHeaders)&&void 0!==T?T:{},null===(I=i.withCredentials)||void 0===I||I,null!==(P=i.retryStatusCodes)&&void 0!==P?P:[],(null!==(M=i.dontRetryStatusCodes)&&void 0!==M?M:[]).concat([400,401,403,410,422]),i.idService,i.retryFailedRequests,i.onRequestSuccess,i.onRequestFailure),De=!1,$e=null!==(_=i.preservePageViewIdForUrl)&&void 0!==_&&_,Ne=void 0,Re={enabled:!1,installed:!1,configurations:{}},Ve=null!==(U=null===(L=i.contexts)||void 0===L?void 0:L.session)&&void 0!==U&&U,Be=i.onSessionUpdateCallback,ze=!1,Fe="boolean"==typeof(ae=i.useExtendedCrossDomainLinker||!1)?{useExtendedCrossDomainLinker:ae}:{useExtendedCrossDomainLinker:!0,collectCrossDomainAttributes:ae},qe=Fe.useExtendedCrossDomainLinker,He=Fe.collectCrossDomainAttributes;i.hasOwnProperty("discoverRootDomain")&&i.discoverRootDomain&&(Oe=function(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_",o=r+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),a=n.split("."),c=a.length-2;c>=0;c--){var s=a.slice(c).join(".");if(Ta(o,i,0,"/",s,e,t),Ta(o)===i){Ea(o,s,e,t);for(var u=Aa(r),l=0;l<u.length;l++)Ea(u[l],s,e,t);return s}}return n}(xe,Se));var Qe=Ha(),Ge=Qe.browserLanguage,We=Qe.resolution,Je=Qe.colorDepth,Xe=Qe.cookiesEnabled;function Ye(){(ue=Ua(window.location.hostname,window.location.href,Sa()))[1]!==fe&&(de=Sa(fe)),le=xa(ue[0]),fe=ue[1]}function Ke(e){return function(t){var n=t.currentTarget,r=function(e,t,n){var r,o=(new Date).getTime(),i=Fo(Fo({},ma),t),a=n.domainUserId,c=n.userId,s=n.sessionId,u=n.sourceId,l=n.sourcePlatform,f=n.event,d=f.currentTarget,v="function"==typeof i.reason?i.reason(f):null===(r=null==d?void 0:d.textContent)||void 0===r?void 0:r.trim();return e?[a,o,i.sessionId&&s,i.userId&&ya(c||""),i.sourceId&&ya(u||""),i.sourcePlatform&&l,i.reason&&ya(v||"")].map((function(e){return e||""})).join(".").replace(/([.]*$)/,""):n.domainUserId+"."+o}(e,He,{domainUserId:ne,userId:oe||void 0,sessionId:re,sourceId:he,sourcePlatform:ve,event:t});(null==n?void 0:n.href)&&(n.href=function(e,t,n){var r=t+"="+n,o=e.split("#"),i=o[0].split("?"),a=i.shift(),c=i.join("?");if(c){for(var s=!0,u=c.split("&"),l=0;l<u.length;l++)if(u[l].substr(0,t.length+1)===t+"="){s=!1,u[l]=r,c=u.join("&");break}s&&(c=r+"&"+c)}else c=r;return o[0]=a+"?"+c,o.join("#")}(n.href,"_sp",r))}}function Ze(e){for(var t=Ke(qe),n=0;n<document.links.length;n++){var r=document.links[n];!r.spDecorationEnabled&&e(r)&&(r.addEventListener("click",t,!0),r.addEventListener("mousedown",t,!0),r.spDecorationEnabled=!0)}}function et(e){var t;return G&&(t=new RegExp("#.*"),e=e.replace(t,"")),W&&(t=new RegExp("[{}]","g"),e=e.replace(t,"")),e}function tt(e){var t=new RegExp("^([a-z]+):").exec(e);return t?t[1]:null}function nt(e){return be+e+"."+te}function rt(e){var t=nt(e);return"localStorage"==Me?function(e){try{var t=window.localStorage,n=t.getItem(e+".expires");return null===n||+n>Date.now()?t.getItem(e):(t.removeItem(e),void t.removeItem(e+".expires"))}catch(e){return}}(t):"cookie"==Me||"cookieAndLocalStorage"==Me?Ta(t):void 0}function ot(){Ye(),te=va((Oe||le)+(ke||"/")).slice(0,4)}function it(){var e=new Date;X=e.getTime()}function at(){!function(){var e=ct(),t=e[0];t<Y?Y=t:t>K&&(K=t);var n=e[1];n<Z?Z=n:n>ee&&(ee=n)}(),it()}function ct(){var e=document.documentElement;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function st(){var e=ct(),t=e[0];Y=t,K=t;var n=e[1];Z=n,ee=n}function ut(e){return Math.round(e)}function lt(){return dt(nt("ses"),"*",Ae)}function ft(e){var t=nt("id"),n=function(e,t){var n=Qo([],e,!0);return t&&(n[1]="",n[7]=""),n.shift(),n.join(".")}(e,Pe);return dt(t,n,Ee)}function dt(e,t,n){return!(Pe&&!Te)&&("localStorage"==Me?ga(e,t,n):("cookie"==Me||"cookieAndLocalStorage"==Me)&&(Ta(e,t,n,ke,Oe,xe,Se),-1!==document.cookie.indexOf("".concat(e,"="))))}function vt(e){var t=nt("id"),n=nt("ses");pa(t),pa(n),Ea(t,Oe,xe,Se),Ea(n,Oe,xe,Se),(null==e?void 0:e.preserveSession)||(re=Pi.v4(),Le=1),(null==e?void 0:e.preserveUser)||(ne=Pe?"":Pi.v4(),oe=null)}function gt(e){e&&e.stateStorageStrategy&&(i.stateStorageStrategy=e.stateStorageStrategy,Me=N(i)),Pe=B(i),Te=R(i),Ie=V(i),Ue.setUseLocalStorage("localStorage"==Me||"cookieAndLocalStorage"==Me),Ue.setAnonymousTracking(Ie)}function pt(){if(!Pe||Te){var e="none"!=Me&&!!rt("ses"),t=ht();ne=function(e,t){var n;return e[1]?n=e[1]:t?(n="",e[1]=n):(n=Pi.v4(),e[1]=n),n}(t,Pe),re=e?Ra(t):Da(t),Le=Va(t),"none"!=Me&&(lt(),$a(t),ft(t))}}function ht(){return"none"==Me?["1","",0,0,0,void 0,"","","",void 0,0]:function(e,t,n,r){var o,i=new Date,a=Math.round(i.getTime()/1e3);e?(o=e.split(".")).unshift("0"):o=["1",t,a,r,a,"",n],o[6]&&"undefined"!==o[6]||(o[6]=Pi.v4()),o[7]&&"undefined"!==o[7]||(o[7]=""),o[8]&&"undefined"!==o[8]||(o[8]=""),o[9]&&"undefined"!==o[9]||(o[9]=""),o[10]&&"undefined"!==o[10]||(o[10]=0);var c=function(e,t){var n=parseInt(e);return isNaN(n)?t:n},s=function(e){return e?c(e,void 0):void 0};return[o[0],o[1],c(o[2],a),c(o[3],r),c(o[4],a),s(o[5]),o[6],o[7],o[8],s(o[9]),c(o[10],0)]}(rt("id")||void 0,ne,re,Le)}function mt(e){return 0===e.indexOf("http")?e:("https:"===document.location.protocol?"https":"http")+"://"+e}function yt(){De&&null!=o.pageViewId||(o.pageViewId=Pi.v4(),o.pageViewUrl=H||fe)}function wt(){return function(){if(null==o.pageViewId)return!0;if(De||!$e)return!1;if(void 0===o.pageViewUrl)return!0;var e=H||fe;if(!0===$e||"full"==$e||!("URL"in window))return o.pageViewUrl!=e;var t=new URL(e),n=new URL(o.pageViewUrl);if("pathname"==$e)return t.pathname!=n.pathname;if("pathnameAndSearch"==$e)return t.pathname!=n.pathname||t.search!=n.search;return!1}()&&(o.pageViewId=Pi.v4(),o.pageViewUrl=H||fe),o.pageViewId}function bt(){if("none"===Me||Pe||!F)return null;var e="_sp_tab_id",t=ha(e);return t||(!function(e,t){try{return window.sessionStorage.setItem(e,t),!0}catch(e){return!1}}(e,Pi.v4()),t=ha(e)),t||null}function Ot(e,t){return(e||[]).concat(t?t():[])}function kt(e){var t=e.title,n=e.context,r=e.timestamp,o=e.contextCallback;Ye(),Ne&&Ne==wt()&&yt(),Ne=wt(),me=document.title,t?(Q=t,ye=!0):ye&&(Q=null);var i=Oa(Q||me);ce.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=Ui();return o.add("e","pv"),o.add("url",t),o.add("page",n),o.add("refr",r),o}({pageUrl:et(H||fe),pageTitle:i,referrer:et(q||de)}),Ot(n,o),r);var a=new Date,c=!1;if(Re.enabled&&!Re.installed){Re.installed=!0,c=!0;var s={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),s.hasSupport=e}}};s.update();var u="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(s,"hasSupport")?ja(document,u,it,{passive:!0}):ja(document,u,it),st();var l=function(e,t){return void 0===t&&(t=it),function(e){return ja(document,e,t)}};["click","mouseup","mousedown","mousemove","keypress","keydown","keyup","touchend","touchstart"].forEach(l(document)),["resize","focus","blur"].forEach(l(window)),l(window,at)("scroll")}if(Re.enabled&&(we||c)){X=a.getTime();var f=void 0;for(f in Re.configurations){var d=Re.configurations[f];d&&(window.clearInterval(d.activityInterval),xt(d,n,o))}}}function xt(e,t,n){var r=function(e,t){Ye(),e({context:t,pageViewId:wt(),minXOffset:Y,minYOffset:Z,maxXOffset:K,maxYOffset:ee}),st()},o=function(){var o=new Date;X+e.configHeartBeatTimer>o.getTime()&&r(e.callback,Ot(t,n))};0===e.configMinimumVisitLength?e.activityInterval=window.setInterval(o,e.configHeartBeatTimer):e.activityInterval=window.setTimeout((function(){var i=new Date;X+e.configMinimumVisitLength>i.getTime()&&r(e.callback,Ot(t,n)),e.activityInterval=window.setInterval(o,e.configHeartBeatTimer)}),e.configMinimumVisitLength)}function St(e){var t=e.minimumVisitLength,n=e.heartbeatDelay,r=e.callback;if(ba(t)&&ba(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:r};Bi.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function jt(e){var t=e.context,n=e.minXOffset,r=e.minYOffset,o=e.maxXOffset,i=e.maxYOffset,a=document.title;a!==me&&(me=a,Q=void 0),ce.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=e.minXOffset,i=e.maxXOffset,a=e.minYOffset,c=e.maxYOffset,s=Ui();return s.add("e","pp"),s.add("url",t),s.add("page",n),s.add("refr",r),o&&!isNaN(Number(o))&&s.add("pp_mix",o.toString()),i&&!isNaN(Number(i))&&s.add("pp_max",i.toString()),a&&!isNaN(Number(a))&&s.add("pp_miy",a.toString()),c&&!isNaN(Number(c))&&s.add("pp_may",c.toString()),s}({pageUrl:et(H||fe),pageTitle:Oa(Q||me),referrer:et(q||de),minXOffset:ut(n),maxXOffset:ut(o),minYOffset:ut(r),maxYOffset:ut(i)}),t)}function Ct(e){var t=Re.configurations[e];0===(null==t?void 0:t.configMinimumVisitLength)?window.clearTimeout(null==t?void 0:t.activityInterval):window.clearInterval(null==t?void 0:t.activityInterval),Re.configurations[e]=void 0}ce.setTrackerVersion(n),ce.setTrackerNamespace(t),ce.setAppId(he),ce.setPlatform(ve),ce.addPayloadPair("cookie",Xe?"1":"0"),ce.addPayloadPair("cs",se),ce.addPayloadPair("lang",Ge),ce.addPayloadPair("res",We),ce.addPayloadPair("cd",Je),ot(),pt(),i.crossDomainLinker&&Ze(i.crossDomainLinker);var Et={getDomainSessionIndex:function(){return Le},getPageViewId:wt,getTabId:bt,newSession:function(){var e=ht();if(Ba(e)?(re="none"!=Me?Da(e):Ra(e),Le=Va(e)):(Le++,re=Da(e,{memorizedVisitCount:Le})),$a(e),"none"!=Me){var t=Na(e,Me,Pe);ft(e),lt()&&Be&&(ze=!0,Be(t))}_e=(new Date).getTime()},getCookieName:function(e){return nt(e)},getUserId:function(){return oe},getDomainUserId:function(){return ht()[1]},getDomainUserInfo:function(){return ht()},setReferrerUrl:function(e){q=e},setCustomUrl:function(e){Ye(),H=function(e,t){var n;return tt(t)?t:"/"===t.slice(0,1)?tt(e)+"://"+ka(e)+t:((n=(e=et(e)).indexOf("?"))>=0&&(e=e.slice(0,n)),(n=e.lastIndexOf("/"))!==e.length-1&&(e=e.slice(0,n+1)),e+t)}(fe,e)},setDocumentTitle:function(e){me=document.title,Q=e,ye=!1},discardHashTag:function(e){G=e},discardBrace:function(e){W=e},setCookiePath:function(e){ke=e,ot()},setVisitorCookieTimeout:function(e){Ee=e},crossDomainLinker:function(e){Ze(e)},enableActivityTracking:function(e){Re.configurations.pagePing||(Re.enabled=!0,Re.configurations.pagePing=St(Fo(Fo({},e),{callback:jt})))},enableActivityTrackingCallback:function(e){Re.configurations.callback||(Re.enabled=!0,Re.configurations.callback=St(e))},disableActivityTracking:function(){Ct("pagePing")},disableActivityTrackingCallback:function(){Ct("callback")},updatePageActivity:function(){it()},setOptOutCookie:function(e){J=e},setUserId:function(e){oe=e},setUserIdFromLocation:function(e){Ye(),oe=Ca(e,fe)},setUserIdFromReferrer:function(e){Ye(),oe=Ca(e,de)},setUserIdFromCookie:function(e){oe=Ta(e)},setCollectorUrl:function(e){ge=mt(e),Ue.setCollectorUrl(ge)},setBufferSize:function(e){Ue.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),Ue.executeQueue(),e.newBufferSize&&Ue.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),kt(e)},preservePageViewId:function(){De=!0},preservePageViewIdForUrl:function(e){$e=e},disableAnonymousTracking:function(e){i.anonymousTracking=!1,gt(e),pt(),Ue.executeQueue()},enableAnonymousTracking:function(e){var t;i.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,gt(e),Te||yt()},clearUserData:vt};return Fo(Fo({},Et),{id:e,namespace:t,core:ce,sharedState:o})}(e,t,n,r,o,i),s=Fo(Fo({},c),{addPlugin:function(e){var t,n;s.core.addPlugin(e),null===(n=(t=e.plugin).activateBrowserPlugin)||void 0===n||n.call(t,s)}});return a.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,s)})),s}var Xa={};function Ya(e,t){try{(n=null!=e?e:Object.keys(Xa),function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];t.hasOwnProperty(i)?n.push(t[i]):Bi.warn(i+" not configured")}return n}(n,Xa)).forEach(t)}catch(e){Bi.error("Function failed",e)}var n}var Ka=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]};function Za(e,t){Ya(t,(function(t){t.core.track(function(e){var t=e.event,n=t.schema,r=t.data,o=Ui(),i={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:r}};return o.add("e","ue"),o.addJson("ue_px","ue_pr",i),o}({event:e.event}),e.context,e.timestamp)}))}var ec,tc="undefined"!=typeof window?function(){var e=new Ka,t=document,n=window;function r(){var t;if(!e.hasLoaded)for(e.hasLoaded=!0,t=0;t<e.registeredOnLoadHandlers.length;t++)e.registeredOnLoadHandlers[t]();return!0}return t.visibilityState&&ja(t,"visibilitychange",(function(){"hidden"==t.visibilityState&&e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),ja(n,"beforeunload",(function(){e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),"loading"===document.readyState?(t.addEventListener?t.addEventListener("DOMContentLoaded",(function e(){t.removeEventListener("DOMContentLoaded",e,!1),r()})):t.attachEvent&&t.attachEvent("onreadystatechange",(function e(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",e),r())})),ja(n,"load",r,!1)):r(),e}():void 0;function nc(e,t,n){return void 0===n&&(n={}),tc?function(e,t,n,r,o,i){return Xa.hasOwnProperty(e)?null:(Xa[e]=Ja(e,t,n,r,o,i),Xa[e])}(e,e,"js-".concat("3.24.6"),t,tc,n):void 0}function rc(e){var t=function(){var e,t,n,r,o=navigator.userAgentData;o&&(e={isMobile:o.mobile,brands:(r=o.brands,n=Array.isArray(r)?r:"[object Object]"===Object.prototype.toString.call(r)?Object.keys(r).map((function(e){return r[e]})):[],n.map((function(e){return{brand:e.brand,version:e.version}})))},o.getHighEntropyValues&&o.getHighEntropyValues(["platform","platformVersion","architecture","model","uaFullVersion"]).then((function(t){e.architecture=t.architecture,e.model=t.model,e.platform=t.platform,e.uaFullVersion=t.uaFullVersion,e.platformVersion=t.platformVersion})),(t=e)&&"boolean"==typeof t.isMobile&&Array.isArray(t.brands)&&0!==t.brands.length&&!t.brands.some((function(e){return"string"!=typeof e.brand||"string"!=typeof e.version}))&&(ec=e))};return{activateBrowserPlugin:function(){ec||t()},contexts:function(){return ec?[{schema:"iglu:org.ietf/http_client_hints/jsonschema/1-0-0",data:ec}]:[]}}}class oc{constructor(e){let{name:t,nameAliases:n}=e;if(this.nameAliases=[],!t)throw new Error("SUIT2: tracker must provide name to constructor");this.name=t,this.nameAliases=n||[]}send(e){throw new Error("[SUIT]: tracker must implement send")}}const ic="up_shasta_referrer";function ac(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n;try{const r=null===(n=e.sessionStorage)||void 0===n?void 0:n.getItem(ic);if(!r)return null;t&&function(e){try{e.sessionStorage.removeItem(ic)}catch(e){}}(e);const{expires:o,url:i}=JSON.parse(r);return Date.parse(o)-(new Date).getTime()<0?null:""===i?"":function(e){try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){}return!1}(i)?i:null}catch(e){console.error("Could not parse session referrer",e)}return null}const cc={appId:"suit",encodeBase64:!1,postPath:"/shitake/suit",discoverRootDomain:!0,cookieName:"_upw_"};class sc extends oc{constructor(e){let{window:t,env:n,pushToDataLayer:r}=e;if(super({name:"snowplow"}),this.referrerOverride=!1,!n)throw Zo.error("[SUIT] must provide env to snowplowTracker constructor"),new Error("[SUIT]: must provide env to snowplowTracker constructor");this.env=n,this.pushToDataLayer=!!r,this.window=t,this.copySnowplowCookie("_sp_id","_upw_id"),this.copySnowplowCookie("_sp_ses","_upw_ses");const o=nc("upwork",function(e){switch(e){case"prod":return"https://www.upwork.com";case"stage":case"staging":case"dev":case"local":return"https://stage.upwork.com";default:return null}}(this.env),Object.assign(Object.assign({},cc),{contexts:{browser:!0},plugins:[rc()]})),i=ac(t);null!==i&&(this.referrerOverride=!0,o.setReferrerUrl(i))}getBrowserData(){return{language:this.window.navigator.language}}validateEvent(e){const t=["event","location","sublocation","label"].reduce(((t,n)=>(e[n]||t.push(n),t)),[]);return!(t.length>0)||(Zo.error(`[SUIT]: snowplow tracker encountered invalid value for required key (${t.join(", ")})`,e),!1)}send(e){let{event:t,pageContext:n,userContext:r,browserData:o}=e;if(!this.validateEvent(t))return!1;const i=Object.assign({},t);delete i.data,delete i.label;const a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),r),o),this.getBrowserData()),i),t.data),this.referrerOverride?{referrer_override:!0}:{}),{event_label:t.label}),{dataLayer:c}=window;return c&&this.pushToDataLayer&&c.push({event_payload:void 0},{event:"suit",suitVersion:"2",event_payload:a}),Za({event:{schema:"iglu:com.upwork/suit2_event/jsonschema/3-0-0",data:a}})}copySnowplowCookie(e,r){const o=`${e}.2a16`,i=`${r}.5831`;if(n(i))return;const a=n(o);a&&function(e,n,r,o){void 0===r&&(r=encodeURIComponent),"object"==typeof r&&null!==r&&(o=r,r=encodeURIComponent);var i=t(o||{}),a="function"==typeof r?r(n):n,c="".concat(e,"=").concat(a).concat(i);document.cookie=c}(i,a,{expires:"1Y",domain:".upwork.com",path:"/",samesite:"None",secure:!0})}}function uc(e){return e.toLowerCase()}var lc=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],fc=/[^A-Z0-9]+/gi;function dc(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function vc(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?lc:n,o=t.stripRegexp,i=void 0===o?fc:o,a=t.transform,c=void 0===a?uc:a,s=t.delimiter,u=void 0===s?" ":s,l=dc(dc(e,r,"$1\0$2"),i,"\0"),f=0,d=l.length;"\0"===l.charAt(f);)f++;for(;"\0"===l.charAt(d-1);)d--;return l.slice(f,d).split("\0").map(c).join(u)}(e,Fo({delimiter:"."},t))}function gc(e){return pc.test(e)}const pc=/^-?[0-9]+$/;const hc=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;let mc=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function yc(e){if(function(e){const t=Number.parseFloat(e),n=String(t);return e===n||wc(e)===wc(n)}(e))return;if(gc(e))return mc.truncate_integer;const t=Number.parseFloat(e);return Number.isFinite(t)?0===t?mc.underflow:mc.truncate_float:mc.overflow}function wc(e){let t=0;for("-"===e[0]&&t++;"0"===e[t]||"."===e[t];)t++;let n=e.lastIndexOf("e");for(-1===n&&(n=e.lastIndexOf("E")),-1===n&&(n=e.length);"0"===e[n-1]||"."===e[n-1];)n--;let r=n>=t?n-t:0;const o=e.indexOf(".",t);return-1!==o&&o<n&&r--,r}class bc{isLosslessNumber=!0;constructor(e){if(!function(e){return hc.test(e)}(e))throw new Error(`Invalid number (value: "${e}")`);this.value=e}valueOf(){const e=yc(this.value);if(void 0===e||e===mc.truncate_float)return Number.parseFloat(this.value);if(gc(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${e} and become ${Number.parseFloat(this.value)}`)}toString(){return this.value}}function Oc(e){return new bc(e)}function kc(e,t,n,r){return Array.isArray(n)?r.call(e,t,function(e,t){for(let n=0;n<e.length;n++)e[n]=kc(e,String(n),e[n],t);return e}(n,r)):n&&"object"==typeof n&&!function(e){return e&&"object"==typeof e&&e.isLosslessNumber||!1}(n)?r.call(e,t,function(e,t){for(const n of Object.keys(e)){const r=kc(e,n,e[n],t);void 0!==r?e[n]=r:delete e[n]}return e}(n,r)):r.call(e,t,n)}function xc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oc,r=0;const o=c();return function(e){if(void 0===e)throw new SyntaxError(`JSON value expected ${k()}`)}(o),function(){if(r<e.length)throw new SyntaxError(`Expected end of input ${k()}`)}(),t?function(e,t){return kc({"":e},"",e,t)}(o,t):o;function i(){if(e.charCodeAt(r)===Ic){r++,u();const t={};let n=!0;for(;r<e.length&&e.charCodeAt(r)!==Pc;){n?n=!1:(f(),u());const e=r,o=l();if(void 0===o)return void p();u(),d();const i=c();if(void 0===i)return void w();Object.prototype.hasOwnProperty.call(t,o)&&!Cc(i,t[o])&&h(o,e+1),t[o]=i}return e.charCodeAt(r)!==Pc&&function(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${k()}`)}(),r++,t}}function a(){if(e.charCodeAt(r)===Mc){r++,u();const t=[];let n=!0;for(;r<e.length&&e.charCodeAt(r)!==_c;){n?n=!1:f();const e=c();v(e),t.push(e)}return e.charCodeAt(r)!==_c&&function(){throw new SyntaxError(`Array item or end of array ']' expected ${k()}`)}(),r++,t}}function c(){u();const t=l()??function(){const t=r;e.charCodeAt(r)===Vc&&(r++,g(t));if(e.charCodeAt(r)===Bc)r++;else if(o=e.charCodeAt(r),o>=zc&&o<=Fc)for(r++;jc(e.charCodeAt(r));)r++;var o;if(e.charCodeAt(r)===Hc)for(r++,g(t);jc(e.charCodeAt(r));)r++;if(e.charCodeAt(r)===Xc||e.charCodeAt(r)===Jc)for(r++,e.charCodeAt(r)!==Vc&&e.charCodeAt(r)!==Rc||r++,g(t);jc(e.charCodeAt(r));)r++;if(r>t)return n(e.slice(t,r))}()??i()??a()??s("true",!0)??s("false",!1)??s("null",null);return u(),t}function s(t,n){if(e.slice(r,r+t.length)===t)return r+=t.length,n}function u(){for(;(t=e.charCodeAt(r))===Lc||t===Uc||t===Dc||t===$c;)r++;var t}function l(){if(e.charCodeAt(r)===Nc){r++;let n="";for(;r<e.length&&e.charCodeAt(r)!==Nc;){if(e.charCodeAt(r)===Tc){const t=e[r+1],o=Ac[t];void 0!==o?(n+=o,r++):"u"===t?Sc(e.charCodeAt(r+2))&&Sc(e.charCodeAt(r+3))&&Sc(e.charCodeAt(r+4))&&Sc(e.charCodeAt(r+5))?(n+=String.fromCharCode(Number.parseInt(e.slice(r+2,r+6),16)),r+=5):b(r):y(r)}else(t=e.charCodeAt(r))>=32&&t<=1114111?n+=e[r]:m(e[r]);r++}return function(){if(e.charCodeAt(r)!==Nc)throw new SyntaxError(`End of string '"' expected ${k()}`)}(),r++,n}var t}function f(){if(e.charCodeAt(r)!==qc)throw new SyntaxError(`Comma ',' expected after value ${k()}`);r++}function d(){if(e.charCodeAt(r)!==Qc)throw new SyntaxError(`Colon ':' expected after property name ${k()}`);r++}function v(e){if(void 0===e)throw new SyntaxError(`Array item expected ${k()}`)}function g(t){if(!jc(e.charCodeAt(r))){const n=e.slice(t,r);throw new SyntaxError(`Invalid number '${n}', expecting a digit ${k()}`)}}function p(){throw new SyntaxError(`Quoted object key expected ${k()}`)}function h(e,t){throw new SyntaxError(`Duplicate key '${e}' encountered at position ${t}`)}function m(e){throw new SyntaxError(`Invalid character '${e}' ${O()}`)}function y(t){const n=e.slice(t,t+2);throw new SyntaxError(`Invalid escape character '${n}' ${O()}`)}function w(){throw new SyntaxError(`Object value expected after ':' ${O()}`)}function b(t){const n=e.slice(t,t+6);throw new SyntaxError(`Invalid unicode character '${n}' ${O()}`)}function O(){return`at position ${r}`}function k(){return`${r<e.length?`but got '${e[r]}'`:"but reached end of input"} ${O()}`}}function Sc(e){return e>=Bc&&e<=Fc||e>=Gc&&e<=Yc||e>=Wc&&e<=Kc}function jc(e){return e>=Bc&&e<=Fc}function Cc(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>Cc(e,t[n])));if(Ec(e)&&Ec(t)){return[...new Set([...Object.keys(e),...Object.keys(t)])].every((n=>Cc(e[n],t[n])))}return!1}function Ec(e){return"object"==typeof e&&null!==e}const Ac={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},Tc=92,Ic=123,Pc=125,Mc=91,_c=93,Lc=32,Uc=10,Dc=9,$c=13,Nc=34,Rc=43,Vc=45,Bc=48,zc=49,Fc=57,qc=44,Hc=46,Qc=58,Gc=65,Wc=97,Jc=69,Xc=101,Yc=70,Kc=102;class Zc{constructor(e,t){if(!e||!t)throw Zo.error("[SUIT]: event type constructor must receive window and track"),new Error("[SUIT]: event type constructor must receive window and track");this.window=e,this.tracker=t}setup(){throw Zo.error("[SUIT]: new event type must provide setup function"),new Error("[SUIT]: new event type must provide setup function")}getElementHierarchy(e){if(!e||"object"!=typeof e||!e.tagName)return"";const t=Array.from(e.classList||[]).filter((e=>!/^col-(lg|xs|md|xl|sm)-.*/.test(e))).filter((e=>!/^(my|mx|mt|m|ml|mr|mb|p|pt|pb|pl|pr|px|py)-.*/.test(e))).join(".");let n=`${e.tagName.toLowerCase()}${e.id?`#${e.id}`:""}`;return n+=t?`.${t}`:"",n}getElementOverrideAttributes(e){var t,n;let r=e,o={};if(null===(n=null===(t=this.tracker)||void 0===t?void 0:t.config)||void 0===n?void 0:n.attributeInheritance)for(;r&&r!==this.window.document.body;){const e=this.getElementCustomKeys(r);o=Object.assign(Object.assign({},e),o);for(const[t,n]of Object.entries(o))"string"==typeof n&&n.startsWith("!")&&e[t]&&(o=Object.assign(Object.assign({},o),{[t]:e[t]}));r=r.parentNode}else o=Object.assign({},this.getElementCustomKeys(r));return Object.fromEntries(Object.entries(o).map((e=>{let[t,n]=e;return[t,"string"==typeof n?n.replace(/!/g,""):n]})))}getFullElementHierarchy(e){const t=[];let n=e;for(;n&&n!==this.window.document.body;)t.push(this.getElementHierarchy(n)),n=n.parentNode;return t.reverse().join(" > ")}getElementCustomKeys(e){return e&&"attributes"in e?Array.from(e.attributes).reduce(((e,t)=>{if(t.name.startsWith("data-ev-")||t.name.startsWith("track-")){let n="";try{n=xc(t.value,((e,t)=>"object"==typeof t&&null!==t&&"isLosslessNumber"in t?t.toString():t))}catch(e){n=t.value}const r=t.name.replace("data-ev-","").replace("track-","");["label","label-prefix","event"].includes(r)||(e[r]=n)}return e}),{}):{}}getElementEventLabel(e){var t,n;const r=e.getAttribute("data-ev-label")||e.getAttribute("track-label");if(null===(n=null===(t=this.tracker)||void 0===t?void 0:t.config)||void 0===n?void 0:n.disableEventLabelPrefix)return r;const o=e.getAttribute("data-ev-label-prefix");return r?`${"string"==typeof o?o:"general_"}${r}`:null}}class es extends Zc{setup(){["click","auxclick","contextmenu"].forEach((e=>{this.window.addEventListener(e,this.onClick.bind(this),!0)}))}getAdditionalData(e){var t;const n={};if(null===(t=e.innerText)||void 0===t?void 0:t.match(/[\w]/)){const t=e.innerText.trim().toLowerCase().replace(/[\W_]+/g,"_").replace(/^_|_$/g,"");n.inner_text=t}else e.hasAttribute("title")&&(n.title=e.getAttribute("title"));const r=e.getAttribute("aria-label");var o;return r&&(n.aria_label=(void 0===o&&(o={}),vc(r,Fo({delimiter:"_"},o)))),n}getEventData(e){const t=this.getElementOverrideAttributes(e);return e.hasAttribute("href")&&(t.href=e.getAttribute("href")),{event:"click",sublocation:"click",label:this.getElementEventLabel(e)||"general_click",data:Object.assign(Object.assign({hierarchy:this.getFullElementHierarchy(e)},t),this.getAdditionalData(e))}}onClick(e){const t=["a","button","[track-event=click]","[role=button]","[role=combobox]"].join(",");let n=e.target;try{if(n&&"function"==typeof n.closest)n=n.closest(t);else{let e=0;const r=100;for(;n&&!n.matches(t);)if(n=n.parentElement,e+=1,e>=r||!n){Zo.warn("[SUIT]: Max iterations reached or null element encountered while searching for target"),n=null;break}}}catch(e){Zo.warn("[SUIT]: Error accessing closest method:",e),n=null}if(n&&!n.hasAttribute("data-notrack")){const t={auxclick:"middle",contextmenu:"right"}[e.type]||"left",r=this.getEventData(n);this.tracker.track(Object.assign(Object.assign(Object.assign({},e.upworkCorrelationId?{correlation_id:e.upworkCorrelationId}:{}),r),{data:Object.assign(Object.assign({},r.data),{click_type:t})}))}}}class ts extends Zc{constructor(){super(...arguments),this.observerCache={}}isElementAboveViewport(e){return e.getBoundingClientRect().bottom<=0}intersectionHandler(e,t){e.forEach((e=>{e.isIntersecting&&(this.tracker.track(this.getEventData(e)),t.unobserve(e.target))}))}getObserver(e){const t=Number.isFinite(e)?e:1,n=t.toString();if(this.observerCache[n])return this.observerCache[n];const r=new this.window.IntersectionObserver(this.intersectionHandler.bind(this),{rootMargin:"0px",threshold:t});return this.observerCache[n]=r,r}setup(){var e;"IntersectionObserver"in this.window&&"function"==typeof this.window.IntersectionObserver&&(this.getObserver(1),(e=this.window.document,new Promise((t=>{const{readyState:n}=e;"complete"!==n&&"interactive"!==n?e.addEventListener("DOMContentLoaded",t):t()}))).then((()=>{const{fn:e}=Xo((()=>{this.window.document.querySelectorAll("[impression]:not([eh-i]),[track-event=impression]:not([eh-i])").forEach((e=>{var t,n,r;if(!0===(null===(r=null===(n=null===(t=this.tracker)||void 0===t?void 0:t.config)||void 0===n?void 0:n.impressionConfig)||void 0===r?void 0:r.triggerAboveFold)&&this.isElementAboveViewport(e))this.tracker.track(this.getEventData({target:e}));else{const t=e.getAttribute("impression");let n;if(null===t)n=1;else if(""===t)n=0;else{const e=parseFloat(t);n=Number.isFinite(e)?e:1}this.getObserver(n).observe(e)}e.setAttribute("eh-i","true")}))}),300);e().flush();new MutationObserver((()=>{e()})).observe(document.body,{subtree:!0,childList:!0})})))}getEventData(e){var t;return{event:"impression",sublocation:"impression",label:null!==(t=this.getElementEventLabel(e.target))&&void 0!==t?t:"general_impression",data:Object.assign({hierarchy:this.getFullElementHierarchy(e.target)},this.getElementOverrideAttributes(e.target))}}}class ns extends Zc{setup(){this.window.addEventListener("submit",(e=>{"FORM"!==e.target.tagName||e.target.hasAttribute("data-notrack")||this.tracker.track(this.getEventData(e))}),!0)}getEventData(e){return{event:"enter",sublocation:"form",label:"general_enter",data:Object.assign({hierarchy:this.getFullElementHierarchy(e.target)},this.getElementOverrideAttributes(e.target))}}}class rs extends oc{constructor(){super({name:"gtm-ga",nameAliases:["gtm"]})}send(e){let{event:t,pageContext:n,userContext:r,browserData:o}=e;const i=Object.assign(Object.assign(Object.assign(Object.assign({event:t.gtmEvent||"ga",eventAction:t.event||" ",eventCategory:t.sublocation||" ",eventLabel:t.label||" ",eventValue:t.value||" "},t.data),n),r),o);window.dataLayer?window.dataLayer.push(i):Zo.error("[SUIT]: dataLayer not present for gtm event",i)}}function os(e){var t,n;const r=((null===(n=null===(t=window.location)||void 0===t?void 0:t.pathname)||void 0===n?void 0:n.replace(/\/$/,"").replace(/^\//,""))||"").split("/")||[],o=r.pop()||"",i=r.join("_").replace(/^_/,"");return`${e}:${i||o}:${i?o:""}`.toLowerCase()}function is(e){return!e.label||["general_pv","general_click","general_impression","general_enter"].includes(e.label)?e:Object.assign(Object.assign({},e),{label:e.label.replace("general_","")})}var as=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===cs}(e)}(e)};var cs="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function ss(e,t){return!1!==t.clone&&t.isMergeableObject(e)?vs((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function us(e,t,n){return e.concat(t).map((function(e){return ss(e,n)}))}function ls(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function fs(e,t){try{return t in e}catch(e){return!1}}function ds(e,t,n){var r={};return n.isMergeableObject(e)&&ls(e).forEach((function(t){r[t]=ss(e[t],n)})),ls(t).forEach((function(o){(function(e,t){return fs(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(fs(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return vs;var n=t.customMerge(e);return"function"==typeof n?n:vs}(o,n)(e[o],t[o],n):r[o]=ss(t[o],n))})),r}function vs(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||us,n.isMergeableObject=n.isMergeableObject||as,n.cloneUnlessOtherwiseSpecified=ss;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):ds(e,t,n):ss(t,n)}vs.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return vs(e,n,t)}),{})};var gs=o(vs);const ps=function(){const e={},{Applet:t}=window;if(void 0!==t){if("function"==typeof t.getUser&&null!=t.getUser()&&(e.User=t.getUser(),e.userNid=e.User.getNid(),e.userUid=e.User.getUid()),"function"==typeof t.getOrganization&&null!=t.getOrganization()&&(e.Organization=t.getOrganization(),e.organizationUid=e.Organization.getUid(),e.organizationTypeTitle=e.Organization.getTypeTitle&&e.Organization.getTypeTitle()),"function"==typeof t.getVisitorId&&null!=t.getVisitorId()){const n={getVisitorId:t.getVisitorId};e.visitorId=t.getVisitorId(),"function"==typeof t.getVisitorApiKey&&null!=t.getVisitorApiKey()&&(n.getVisitorApiKey=t.getVisitorApiKey,e.visitorApiKey=t.getVisitorApiKey()),e.Visitor=n}"function"==typeof t.getInstanceEnv&&(e.Environment=t.getInstanceEnv())}return e}(),hs={window:window,env:ps.Environment,userContext:{organization_uid:ps.organizationUid,user_uid:ps.userUid,visitor_id:n("visitor_id")||ps.visitorId,organization_type_title:ps.organizationTypeTitle},pageLocation:"override_zxcb",snowplowConfig:{pushToDataLayer:!0},sendPageView:!0,locationMapper:(ms="wf",e=>"override_zxcb"!==e.location?Object.assign(Object.assign({},e),is(e)):Object.assign(Object.assign(Object.assign({},e),is(e)),{location:os(ms)}))};var ms;window.tracker=function(e){const t=Object.assign(Object.assign({window:window,sendPageView:!0,dedupeGeneralEvents:!0,attributeInheritance:!1,disableEventLabelPrefix:!1},e),{env:e.env||("www.upwork.com"===window.location.hostname?"prod":void 0),snowplowConfig:Object.assign({pushToDataLayer:!1},e.snowplowConfig)});Zo.setLevel("debug");const r=new ui({config:Object.assign({trackers:[new sc(Object.assign({window:t.window,env:t.env},t.snowplowConfig)),new rs],autoTrackingEvents:[es,ts,ns]},t)});t.window.dispatchEvent(new CustomEvent("suit2_loaded",{detail:{tracker:r}})),t.sendPageView&&r.pageView(),t.window.suitTracker=r;const o=n("cookie_prefix")||"",i=n(`${o}visitor_id`);return i&&i!==e.userContext.visitor_id&&Zo.warn("[SUIT]: data mismatch: visitor_id"),r}(function(e){try{const{window:t}=e,n=qo(e,["window"]);return Object.assign({window:t},gs(n,function(){const e=window.__SUIT_CONFIG__||{},t=["locationMapper","window"];return Object.fromEntries(Object.entries(e).filter((e=>{let[n]=e;return!t.includes(n)})))}()))}catch(e){throw new Error("[SUIT2] Are you trying to merge a circular reference?")}}(hs))}();

//# sourceMappingURL=https://upwork-usw2-staging-assets-jsmaps.s3.us-west-2.amazonaws.com/suit2-tracker/0.3.48/index.wf.iife.min.js.map